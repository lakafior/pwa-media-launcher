<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Icon Generator - Media Launcher</title>
    <style>
        body {
            font-family: -apple-system, system-ui;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
        }
        canvas { border: 1px solid #ccc; margin: 10px 0; }
        button { 
            background: #007AFF; 
            color: white; 
            border: none; 
            padding: 12px 24px; 
            border-radius: 8px; 
            font-size: 16px; 
            cursor: pointer;
            margin: 5px;
        }
        button:hover { background: #0051D5; }
        input[type="color"] { width: 100px; height: 40px; }
        .preview { display: flex; gap: 20px; margin: 20px 0; }
    </style>
</head>
<body>    <h1>ðŸ“º Icon Generator</h1>
    <p>StwÃ³rz ikony dla swojego Media Launcher PWA</p>
    <p><small>ðŸ’¡ Tip: UÅ¼yj ciemnoszarego (#1c1c1e) dla najlepszego wyglÄ…du w Docku</small></p>
      <label>Kolor tÅ‚a: <input type="color" id="bgColor" value="#1c1c1e"></label><br>
    <label>Emoji/Text: <input type="text" id="emoji" value="ðŸ“º" maxlength="2"></label><br>
    <label><input type="checkbox" id="useGradient"> UÅ¼yj gradientu</label><br>
    
    <button onclick="generateIcons()">Generuj Ikony</button>
    
    <div class="preview">
        <div>
            <h3>192x192</h3>
            <canvas id="canvas192" width="192" height="192"></canvas>
            <br><button onclick="downloadIcon(192)">Pobierz</button>
        </div>
        <div>
            <h3>512x512</h3>
            <canvas id="canvas512" width="512" height="512"></canvas>
            <br><button onclick="downloadIcon(512)">Pobierz</button>
        </div>
    </div>
    
    <p><strong>Instrukcja:</strong></p>
    <ol>
        <li>Wybierz kolor i emoji/tekst</li>
        <li>Kliknij "Generuj Ikony"</li>
        <li>Pobierz oba rozmiary</li>
        <li>Zapisz jako <code>images/icon-192.png</code> i <code>images/icon-512.png</code></li>
    </ol>    <script>
        function generateIcons() {
            const bgColor = document.getElementById('bgColor').value;
            const emoji = document.getElementById('emoji').value;
            const useGradient = document.getElementById('useGradient').checked;
            
            console.log('Generating icons with gradient:', useGradient);
            drawIcon(192, bgColor, emoji, useGradient);
            drawIcon(512, bgColor, emoji, useGradient);
        }
        
        function drawIcon(size, bgColor, text, useGradient) {
            const canvas = document.getElementById(`canvas${size}`);
            const ctx = canvas.getContext('2d');
            
            // Clear canvas
            ctx.clearRect(0, 0, size, size);
            
            // Create rounded rectangle path
            const radius = size * 0.225; // 22.5% iOS/macOS style
            ctx.beginPath();
            ctx.moveTo(radius, 0);
            ctx.lineTo(size - radius, 0);
            ctx.quadraticCurveTo(size, 0, size, radius);
            ctx.lineTo(size, size - radius);
            ctx.quadraticCurveTo(size, size, size - radius, size);
            ctx.lineTo(radius, size);
            ctx.quadraticCurveTo(0, size, 0, size - radius);
            ctx.lineTo(0, radius);
            ctx.quadraticCurveTo(0, 0, radius, 0);
            ctx.closePath();
            
            // Fill background with gradient or solid color
            if (useGradient) {
                console.log('Creating gradient from', bgColor, 'to', shadeColor(bgColor, -30));
                const gradient = ctx.createLinearGradient(0, 0, size, size);
                const darkerColor = shadeColor(bgColor, -30);
                gradient.addColorStop(0, bgColor);
                gradient.addColorStop(1, darkerColor);
                ctx.fillStyle = gradient;
            } else {
                ctx.fillStyle = bgColor;
            }
            ctx.fill();
            
            // Text/Emoji - MUCH BIGGER (85% of canvas)
            ctx.fillStyle = '#ffffff';
            ctx.font = `${size * 0.75}px "Apple Color Emoji", "Segoe UI Emoji", Arial`;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(text, size / 2, size / 2);
        }
        
        function shadeColor(color, percent) {
            const num = parseInt(color.replace('#', ''), 16);
            const amt = Math.round(2.55 * percent);
            const R = Math.max(0, Math.min(255, (num >> 16) + amt));
            const G = Math.max(0, Math.min(255, (num >> 8 & 0x00FF) + amt));
            const B = Math.max(0, Math.min(255, (num & 0x0000FF) + amt));
            return '#' + (0x1000000 + R * 0x10000 + G * 0x100 + B).toString(16).slice(1);
        }
        
        function downloadIcon(size) {
            const canvas = document.getElementById(`canvas${size}`);
            const link = document.createElement('a');
            link.download = `icon-${size}.png`;
            link.href = canvas.toDataURL();
            link.click();
        }
        
        // Generate on load
        generateIcons();
    </script>
</body>
</html>
